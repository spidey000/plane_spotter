version: '3.8' # Specifies the version of the Docker Compose file format

services:
  app: # Defines a service named 'app'
    build: . # Instructs Docker Compose to build an image from the Dockerfile in the current directory
    container_name: twitter_spotter_app # Assigns a specific name to the container
    # ports:
      # - "5000:5000" # Maps port 5000 of the host to port 5000 of the container
                      # Uncomment and adjust if your application exposes a port (e.g., for an API)
    volumes:
      # - .:/app # Mounts the current directory on the host to /app in the container
                 # This is useful for development to see code changes live without rebuilding.
                 # For production, it's often better to rely on the code copied during the image build.
      - ./logs:/app/logs # Mounts a local 'logs' directory to '/app/logs' in the container
                         # This allows log files to persist even if the container is removed.

    env_file:
      - .env # Loads environment variables from the .env file

    # Environment variables should be managed by the deployment service.
    # Ensure your deployment service is configured to pass the necessary environment variables
    # (e.g., TELEGRAM_BOT_TOKEN, AEROAPI_KEY, AERODATABOX_KEY, BASEROW_TOKEN) to the container.

    # restart: unless-stopped # Configures the container to restart automatically unless it was manually stopped
                             # Other options: 'no', 'on-failure', 'always'

# You can define other services here if needed (e.g., a database)
# services:
#   db:
#     image: postgres:13
#     volumes:
#       - postgres_data:/var/lib/postgresql/data/
#     environment:
#       - POSTGRES_USER=user
#       - POSTGRES_PASSWORD=password
#       - POSTGRES_DB=mydb
#
# volumes:
#   postgres_data: # Defines a named volume for persistent database storage
